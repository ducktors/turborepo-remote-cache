// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/typescript-node
{
	"name": "Node.js & TypeScript",
	// Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
	"image": "mcr.microsoft.com/devcontainers/typescript-node:1-22-bookworm",
	"features": {
		"ghcr.io/devcontainers-extra/features/pnpm:2": {},
		"ghcr.io/neilenns/devcontainer-features/oh-my-zsh": {
			"theme": "agnoster",
			"stripWorkspacesFromPrompt": true,
			"disableAutoUpdate": false,
			"disableUpdatePrompt": false
			},
		"ghcr.io/stuartleeks/dev-container-features/shell-history:0": {},
		"ghcr.io/devcontainers/features/docker-in-docker:2": {}
	},
  "containerEnv": {
    "PORT": "3500",
    "LOG_LEVEL": "debug",
    "ENABLE_STATUS_LOG": "false",
    "STORAGE_PROVIDER": "local",
    "BODY_LIMIT": "52428800",
    "TURBO_TOKEN": "changeme"
  },
	// Install the packages and make an empty .env file so the service can run using the env
	// variables specified by the devcontainer.
	"postCreateCommand": "pnpm install && touch .env"
}
